<?xml version="1.0" encoding="UTF-8"?>
<project name="Application" default="build" basedir=".">

	<target name="build" depends="prepare, rsync_remotehost"/>

	<property name="applicationDir" value="${basedir}" />
	<property name="buildDir" value="${basedir}/../build" />

    <property name="rsync.user" value="root" />
    <property name="rsync.server" value="192.168.10.114" />
    <property name="rsync.dir" value="/srv/www/steam" />

	<target name="prepare">
	    <mkdir dir="${buildDir}/logs" />
	    <mkdir dir="${buildDir}/html/phpdoc" />
		<mkdir dir="${buildDir}/html/phpcb" />
		<mkdir dir="${buildDir}/html/phpcov" />
	    <mkdir dir="${buildDir}/html/phpunit" />
	</target>

    <target name="rsync_remotehost" >
        <exec executable="rsync" dir="${applicationDir}">
            <arg line="-aOvz --chmod=g+w,Da+rX,Fa+r,F-X --exclude .svn . \
            ${rsync.user}@${rsync.server}:${rsync.dir}" />
        </exec>
    </target>
</project>


